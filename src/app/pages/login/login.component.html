<div class="container d-flex justify-content-center align-items-center login-container">

  <div class="card p-4 w-100 login-card">
    <h2 class="text-center mb-4">Iniciar Sesión</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <div class="mb-3 form-floating">
        <input
          type="email"
          class="form-control"
          id="email"
          formControlName="email"
          placeholder="Correo Electrónico"
          [ngClass]="{'is-invalid': loginForm.get('email')?.invalid && loginForm.get('email')?.touched}">
        <label for="email">Correo Electrónico</label>
        <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="invalid-feedback">
          Ingrese una dirección de correo válida.
        </div>
      </div>

      <div class="mb-3 form-floating position-relative">
        <input
          [type]="passwordVisible ? 'text' : 'password'"
          class="form-control"
          id="password"
          formControlName="password"
          placeholder="Contraseña"
          [ngClass]="{'is-invalid': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}">
        <label for="password">Contraseña</label>
        <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="invalid-feedback">
          La contraseña es obligatoria.
        </div>
        <span 
          *ngIf="hasPasswordText" 
          class="position-absolute top-50 end-0 translate-middle-y me-3 cursor-pointer" 
          (click)="togglePasswordVisibility()">
          <i [ngClass]="passwordVisible ? 'fa fa-eye' : 'fa fa-eye-slash'"></i>
        </span>
      </div>

      <div class="d-grid">
        <button class="btn btn-primary">Iniciar Sesión</button>
      </div>
    </form>

    <!--<div class="text-center mt-3">
          <p>¿No tienes una cuenta? <a [routerLink]="['/register']">Regístrate aquí</a></p>
        </div>-->
  </div>


  <div class="login-image">
    <img src="assets/img/login.jpg" alt="Imagen de Bienvenida">
  </div>
</div>

 <!-- Modal de éxito o error -->
 <app-modal
 [showModal]="modal.show"
 [message]="modal.message"
 [isError]="modal.isError"
 [isSuccess]="modal.isSuccess"
 (close)="modal.close()">
</app-modal>